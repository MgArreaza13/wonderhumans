<app-searchbar class="w-100"></app-searchbar>

<main class="profile-page">
  <section class="section-profile-cover section-shaped my-0">
    <!-- Circles background -->
    <div class="shape shape-style-1 shape-primary alpha-4">
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
    </div>
    <!-- SVG separator -->
    <!-- <div class="separator separator-bottom separator-skew">
      <svg x="0" y="0" viewBox="0 0 2560 100" preserveAspectRatio="none" version="1.1"
        xmlns="http://www.w3.org/2000/svg">
        <polygon class="fill-white" points="2560 0 2560 100 0 100"></polygon>
      </svg>
    </div> -->
  </section>
  <section class="section">
    <div class="container">
      <div class="card card-profile shadow mt--300">
        <div class="px-4">
          <div class="row justify-content-center p-2">
            <div class="col-lg-4 col-md-12 col-sm-12 order-md-1 order-xs-1 order-sm-1 order-lg-2">
              <div class="card-profile-image">
                <a href="javascript:void(0)">
                  <img [src]="imgDef" *ngIf="imageUrl === null" class="rounded-circle">
                  <img [src]="imageUrl" class="imageU" *ngIf="imageUrl !== null">
                </a>
              </div>
            </div>
            <div
              class="col-lg-4 order-lg-3 order-md-3 order-sm-3 order-xs-3 text-lg-right align-self-lg-center col-md-12 col-sm-12 ">
              <div class="card-profile-actions d-flex justify-content-center mt-xs-4">

                <button *ngIf="profile" [routerLink]="['/edit-profile']"
                  class="btn btn-icon btn-3 btn-warning btn-around btn-sm" type="button">
                  <span class="btn-inner--icon"><i class="fa fa-edit"></i></span>
                  <span class="btn-inner--text">Edit profile</span>
                </button>
                <button *ngIf="profile" [routerLink]="['/new-homeless']"
                  class="btn btn-icon btn-3 btn-outline-info btn-around btn-sm" type="button">
                  <span class="btn-inner--icon"><i class="fa fa-plus"></i></span>
                  <span class="btn-inner--text">new
                    homeless</span>
                </button>
              </div>
            </div>
            <div class="col-lg-4 order-lg-1 order-md-2 order-sm-2 order-xs-2 col-md-12 col-sm-12 mt-md-7 mt-lg-0">
              <div class="card-profile-stats d-flex justify-content-center">

                <button *ngIf="profile" [routerLink]="['/food-run']"
                  class="btn btn-icon btn-3 btn-success btn-around btn-sm" type="button">
                  <span class="btn-inner--icon"><i class="fa fa-eye"></i></span>
                  <span class="btn-inner--text">Food run</span>
                </button>
                <button [routerLink]="['/list-events']" routerLinkActive="router-link-active" *ngIf="profile"
                  class="btn btn-icon btn-3  btn-outline-warning btn-around btn-sm" type="button">
                  <span class="btn-inner--icon"><i class="fa fa-list"></i></span>
                  <span class="btn-inner--text">Events
                    list</span>
                </button>
              </div>
            </div>
          </div>
          <div class="text-center mt-5 " style="margin-top: 5rem !important;">
            <h3 class="mt-5">{{user.first_name}} {{user.last_name}}
            </h3>

            <ng-container *ngIf="profile">
              <div class="h6 font-weight-300"><i class="ni location_pin mr-2"
                  *ngIf="profile.phone"></i>{{profile.phone}}</div>
              <div class="h6 font-weight-300" *ngIf="profile.show_email === true"><i
                  class="ni location_pin mr-2"></i>{{user.email}}</div>
              <div class="h6 font-weight-300"><i class="ni location_pin mr-2"></i>{{profile.country}} - {{profile.city}}
              </div>
              <div class="h6 about-font"><i class="ni location_pin mr-2"></i>{{profile.aboutYou}}</div>
              <h5 *ngIf="userHomeless === null" style="padding: 1rem;
              font-variant: all-small-caps;">You do not have any registered homeless</h5>
              <div class="row align" *ngIf="userHomeless !== null">
                <div class="col-2 end">
                  <button (click)="moveLeft()" class="btn-arrow"><i class="fa fa-arrow-left"></i></button>
                </div>
                <div class="col-8 mt-3 mb-3" style="display: flex;
                justify-content: space-around;">

                  <drag-scroll id="dragProfile" *ngFor="let item of dataHom" class="demo-one"
                    drag-scroll-y-disabled="true" scrollbar-hidden="true" (dsInitialized)="onDragScrollInitialized()"
                    (indexChanged)="onIndexChanged($event)" (reachesLeftBound)="leftBoundStat($event)"
                    (reachesRightBound)="rightBoundStat($event)" (snapAnimationFinished)="onSnapAnimationFinished()"
                    (dragStart)="onDragStart()" (dragEnd)="onDragEnd()" #nav>
                    <img id="imageHom" style="border: 2px solid lightgray;cursor: pointer;"
                      routerLink="/homeless-profile/{{item.id}}" drag-scroll-item src="{{item.photo}}" />

                    <p style="line-height: 0.7;
                      font-size: small;
                      font-weight: 800;
                      margin-bottom: 0 !important;
                      margin-top: 5px;">{{item.name | slice:0:12}}</p>

                  </drag-scroll>
                </div>
                <div class="col-2 start">
                  <button (click)="moveRight()" class="btn-arrow"><i class="fa fa-arrow-right"></i></button>
                </div>
              </div>
            </ng-container>
            <div *ngIf="!profile">
              <a [routerLink]="['/edit-profile']" class="btn btn-lg btn-warning mb-2">Complete profile</a>
            </div>
          </div>
          <div class="text-center">
            <div class="row justify-content-center">
              <section class="pb-5" style="padding-top: 0.5rem !important;">
                <div class="container">
                  <div class="row mb-4">
                    <h5 class="w-100"><i class="ni ni-album-2"></i> Publications</h5>
                  </div>
                  <div class="row" style="justify-content: center;">

                    <div class="grid-container">

                      <article *ngFor="let item of feedData" id="3685" class="location-listing">

                        <a class=" location-title" (click)="openModalWithComponent(item)">
                          <h3 style="display: flex;
                            justify-content: space-evenly;
                            background-color: transparent;
                            width: 100%;
                            color: white;">
                            <p style="font-size: large; font-weight: 700;"><i class="ni ni-chat-round"></i>
                              {{item.total_comments}}</p>
                            <p style="font-size: large; font-weight: 700;"><i class="ni ni-favourite-28"></i>
                              {{item.total_likes}}</p>
                          </h3>
                        </a>

                        <div class="location-image">
                          <a href="#">
                            <img width="300" height="169" src="{{environmentHomeless}}{{item.image}}"
                              alt="san francisco"></a>

                        </div>
                      </article>
                    </div>
                  </div>
                </div>
              </section>
            </div>
            <div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <button (click)="openModal2()" class="btn-float">
    <i class="ni ni-fat-add"></i>
  </button>
</main>
