<main class="profile-page section-shaped">
  <div class="shape shape-style-1 shape-primary alpha-4">
    <span></span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
  </div>
  <section class="section-profile-cover section-shaped my-0"></section>
  <section class="section">
    <form *ngIf="profileForm" [formGroup]="profileForm" (ngSubmit)="onSubmit()">
      <div class="container">
        <div class="card card-profile shadow mt--300">
          <div class="px-4">
            <!-- Select File
            <input
              type="file"
              accept="image/*"
              (change)="showPreview($event)"
            />           -->

            <div class="row justify-content-center mb-10">
              <div class="col-lg-3 order-lg-2">
                <div class="card-profile-image">
                  <ng-template #noImage>
                    <div class="imagen-para-archivo">
                      <span>
                        <label for="boton-archivo">
                          <img [src]="imageDefaul" class="imageU" /> </label>

                        <input id="boton-archivo" type="file" accept="image/*" (change)="showPreview($event)" />
                      </span>
                    </div>
                  </ng-template>
                  <span *ngIf="imageURL && imageURL !== ''; else noImage">
                    <img [src]="imageURL" class="imageU" />
                  </span>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group" [ngClass]="{ focused: focus === true }">
                  <label for="">Firstname</label>
                  <div class="input-group input-group-alternative mb-4">
                    <div class="input-group-prepend">
                      <span class="input-group-text"><i class="ni ni-single-02"></i></span>
                    </div>
                    <input (focus)="focus = true" (blur)="focus = false" [ngClass]="{
                        'is-invalid':
                          f['firstName'].errors && f['firstName'].touched
                      }" formControlName="firstName" class="form-control form-control-alternative"
                      placeholder="Ex: Jhon Thomas" type="text" />
                  </div>
                </div>
                <section class="m-2 text-danger" *ngIf="
                    f['firstName'].hasError('required') &&
                    (f['firstName'].touched || f['firstName'].dirty)
                  ">
                  *Required field
                </section>
                <section class="m-2 text-danger" *ngIf="
                    f['firstName'].hasError('minlength') &&
                    (f['firstName'].touched || f['firstName'].dirty)
                  ">
                  *3 is the minimum characters allowed
                </section>
                <section class="m-2 text-danger" *ngIf="
                    f['firstName'].hasError('maxlength') &&
                    (f['firstName'].touched || f['firstName'].dirty)
                  ">
                  *25 is the maximum characters allowed
                </section>
              </div>
              <div class="col-md-6">
                <div class="form-group" [ngClass]="{ focused: focus === true }">
                  <label for="">Lastname</label>
                  <div class="input-group input-group-alternative mb-4">
                    <input (focus)="focus = true" (blur)="focus = false" formControlName="lastName" class="form-control"
                      placeholder="Ex: Doe Smith" type="text" [ngClass]="{
                        'is-invalid':
                          f['lastName'].errors && f['lastName'].touched
                      }" />
                    <div class="input-group-append">
                      <span class="input-group-text"><i class="ni ni-single-02"></i></span>
                    </div>
                  </div>
                </div>
                <section class="m-2 text-danger" *ngIf="
                    f['lastName'].hasError('required') &&
                    (f['lastName'].touched || f['lastName'].dirty)
                  ">
                  *Required field
                </section>
                <section class="m-2 text-danger" *ngIf="
                    f['lastName'].hasError('minlength') &&
                    (f['lastName'].touched || f['lastName'].dirty)
                  ">
                  *3 is the minimum characters allowed
                </section>
                <section class="m-2 text-danger" *ngIf="
                    f['lastName'].hasError('maxlength') &&
                    (f['lastName'].touched || f['lastName'].dirty)
                  ">
                  *25 is the maximum characters allowed
                </section>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4">
                <div class="form-group" [ngClass]="{ focused: focus === true }">
                  <label for="">Birthdate</label>
                  <div class="input-group input-group-alternative mb-4">
                    <div class="input-group-prepend">
                      <span class="input-group-text"><i class="ni ni-birthday"></i></span>
                    </div>
                    <input [ngClass]="{
                        'is-invalid':
                          f['lastName'].errors && f['lastName'].touched
                      }" formControlName="dateOfBirth" class="form-control form-control-alternative datepicker"
                      placeholder="Ex: 24/08/1990" type="text" ngbDatepicker #d="ngbDatepicker" (click)="d.toggle()" />
                  </div>
                </div>
                <section class="m-2 text-danger" *ngIf="
                    f['dateOfBirth'].hasError('required') &&
                    (f['dateOfBirth'].touched || f['dateOfBirth'].dirty)
                  ">
                  *Required field
                </section>
              </div>
              <div class="col-md-4">
                <div class="form-group" [ngClass]="{ focused: focus === true }">
                  <label for="">Country</label>
                  <div class="input-group input-group-alternative mb-4">
                    <input (focus)="focus = true" (blur)="focus = false" [ngClass]="{
                        'is-invalid':
                          f['country'].errors && f['country'].touched
                      }" formControlName="country" class="form-control" placeholder="Ex: EEUU" type="text" />
                    <div class="input-group-append">
                      <span class="input-group-text"><i class="ni ni-world"></i></span>
                    </div>
                  </div>
                </div>
                <section class="m-2 text-danger" *ngIf="
                    f['country'].hasError('required') &&
                    (f['country'].touched || f['country'].dirty)
                  ">
                  *Required field
                </section>
                <section class="m-2 text-danger" *ngIf="
                    f['country'].hasError('minlength') &&
                    (f['country'].touched || f['country'].dirty)
                  ">
                  *4 is the minimum characters allowed
                </section>
                <section class="m-2 text-danger" *ngIf="
                    f['country'].hasError('maxlength') &&
                    (f['country'].touched || f['country'].dirty)
                  ">
                  *25 is the maximum characters allowed
                </section>
              </div>
              <div class="col-md-4">
                <div class="form-group" [ngClass]="{ focused: focus === true }">
                  <label for="">City</label>
                  <div class="input-group input-group-alternative mb-4">
                    <input (focus)="focus = true" (blur)="focus = false" [ngClass]="{
                        'is-invalid': f['city'].errors && f['city'].touched
                      }" formControlName="city" class="form-control" placeholder="Ex: Miami" type="text" />
                    <div class="input-group-append">
                      <span class="input-group-text"><i class="ni ni-compass-04"></i></span>
                    </div>
                  </div>
                </div>
                <section class="m-2 text-danger" *ngIf="
                    f['city'].hasError('required') &&
                    (f['city'].touched || f['city'].dirty)
                  ">
                  *Required field
                </section>
                <section class="m-2 text-danger" *ngIf="
                    f['city'].hasError('minlength') &&
                    (f['city'].touched || f['city'].dirty)
                  ">
                  *4 is the minimum characters allowed
                </section>
                <section class="m-2 text-danger" *ngIf="
                    f['city'].hasError('maxlength') &&
                    (f['city'].touched || f['city'].dirty)
                  ">
                  *25 is the maximum characters allowed
                </section>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group" [ngClass]="{ focused: focus === true }">
                  <label for="">Email</label>
                  <div class="input-group input-group-alternative mb-4">
                    <div class="input-group-prepend">
                      <span class="input-group-text"><i class="ni ni-email-83"></i></span>
                    </div>
                    <input (focus)="focus = true" (blur)="focus = false" [ngClass]="{
                        'is-invalid': f['email'].errors && f['email'].touched
                      }" formControlName="email" class="form-control form-control-alternative"
                      placeholder="Ex: Jhon@example.com" type="email" />
                  </div>
                </div>
                <section class="m-2 text-danger" *ngIf="
                    f['email'].hasError('required') &&
                    (f['email'].touched || f['email'].dirty)
                  ">
                  *Required field
                </section>
                <section class="m-2 text-danger" *ngIf="
                    f['email'].hasError('email') &&
                    (f['email'].touched || f['email'].dirty)
                  ">
                  *Invalid email
                </section>
              </div>
              <div class="col-md-6">
                <div class="form-group" [ngClass]="{ focused: focus === true }">
                  <label for="">Occupation</label>
                  <div class="input-group input-group-alternative mb-4">
                    <input (focus)="focus = true" (blur)="focus = false" [ngClass]="{
                        'is-invalid':
                          f['occupation'].errors && f['occupation'].touched
                      }" formControlName="occupation" class="form-control" placeholder="Ex: Designer" type="text" />
                    <div class="input-group-append">
                      <span class="input-group-text"><i class="ni ni-briefcase-24"></i></span>
                    </div>
                  </div>
                </div>
                <section class="m-2 text-danger" *ngIf="
                    f['occupation'].hasError('required') &&
                    (f['occupation'].touched || f['occupation'].dirty)
                  ">
                  *Required field
                </section>
                <section class="m-2 text-danger" *ngIf="
                    f['occupation'].hasError('minlength') &&
                    (f['occupation'].touched || f['occupation'].dirty)
                  ">
                  *3 is the minimum characters allowed
                </section>
                <section class="m-2 text-danger" *ngIf="
                    f['occupation'].hasError('maxlength') &&
                    (f['occupation'].touched || f['occupation'].dirty)
                  ">
                  *25 is the maximum characters allowed
                </section>
              </div>
            </div>
            <div class="row mb-4">
              <div class="col-12">
                <div class="custom-control custom-control-alternative custom-checkbox">
                  <input formControlName="show_email" class="custom-control-input" id="show_email" type="checkbox" />
                  <label class="custom-control-label" for="show_email">
                    <span>Show email</span>
                  </label>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-12">
                <label for="">About you</label>
                <textarea maxlength="100" (keyup)="onKey($event)" (focus)="focus = true" (blur)="focus = false"
                  [ngClass]="{
                    'is-invalid': f['aboutYou'].errors && f['aboutYou'].touched
                  }" formControlName="aboutYou" class="form-control form-control-alternative" rows="3"
                  placeholder="Write something here"></textarea>
                <span *ngIf="contator" style="float: right;font-variant: small-caps;">{{contator}}/{{restante}}
                  caracteres</span>
                <section class="m-2 text-danger" *ngIf="
                    f['aboutYou'].hasError('required') &&
                    (f['aboutYou'].touched || f['aboutYou'].dirty)
                  ">
                  *Required field
                </section>
              </div>
            </div>
            <div class="row mt-5 mb-5 float-right">
              <button type="submit" class="btn btn-success" [disabled]="profileForm.invalid">
                Save
              </button>
            </div>
          </div>
        </div>
      </div>
    </form>
  </section>
</main>
